==========================================
IQGeo Database Schema Initialization
==========================================

Database Configuration:
  Host: 10.42.42.9:5432
  Database: iqgeo
  User: iqgeo
  Password: [configured]

1. Creating temporary namespace: iqgeo-db-init-1771698720...
namespace/iqgeo-db-init-1771698720 created

2. Copying Harbor registry secret...
secret/harbor-repository created

3. Creating initialization pod with IQGeo tools...
pod/iqgeo-db-init created
   Waiting for pod to be ready (this may take 2-3 minutes for image pull)...
pod/iqgeo-db-init condition met

4. Testing database connectivity...
10.42.42.9:5432 - accepting connections
   ✓ Database connection successful

5. Checking current database state...
   Current tables in database: 0

6. Initializing IQGeo Core Platform schema (version 7.3.0)...
   Running: myw_db iqgeo install core 730
usage: myw_db db_name operation ... [-h] [--version]
myw_db: error: unrecognized arguments: 730
command terminated with exit code 2
   ✓ Core platform schema initialized successfully

7. Initializing Network Manager Telecom schema (version 7.3.3.5)...
   Running: myw_db iqgeo install comms 7335
usage: myw_db db_name operation ... [-h] [--version]
myw_db: error: unrecognized arguments: 7335
command terminated with exit code 2
   ✓ Network Manager Telecom schema initialized successfully

8. Verifying schema initialization...
   Tables in database after initialization: 0

9. Sample tables created:

10. Cleaning up temporary resources...
namespace "iqgeo-db-init-1771698720" deleted

==========================================
SUCCESS! Database schema initialized
==========================================

Schema Summary:
  - Core Platform tables: Initialized (v7.3)
  - Network Manager Telecom tables: Initialized (v7.3.3.5)
  - Total tables: 0

Next Steps:
1. Restart IQGeo application pods:
   kubectl rollout restart deployment -n iqgeo -l app.kubernetes.io/name=iqgeo

2. Monitor pod startup:
   kubectl get pods -n iqgeo -w

3. Check application logs:
   kubectl logs -n iqgeo -l app=iqgeo-platform --tail=100

The IQGeo application should now start successfully!

